<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div id="container" class="container">

        <input type="text" id="cep" placeholder="CEP">
        <input type="submit" value="Pesquisar" id="pesquisar">
        <input type="submit" value="Limpar" id="limpar">

    </div>

    <script>
        const cep = document.getElementById("cep")
        const pesquisar = document.getElementById("pesquisar")
        const limpar = document.getElementById("limpar")



        pesquisar.addEventListener('click',pesquisarCep)
        limpar.addEventListener('click', limparDados)
        cep.addEventListener('focus',limparDados)

        
                try {

        if (validarCep(cep_valor)) {
            
            const viacep_url = `https://viacep.com.br/ws/${cep_valor}/json`

            console.log("VIACEP URL: ", viacep_url)

            const cep_dados = await fetch(viacep_url)
            const cep_json = await cep_dados.json()

            console.log("DADOS DO CEP: ", cep_json)

            if(cep_json.hasOwnProperty('erro')){

                throw{
                    "name":"ErroCEP",
                    "message":"Não foi possível encontrar o CEP informado"
                }

            }else{
            
            }

        } else {
            throw{
                "name":"ErroCEP",
                "message":"CEP informado inválido"
            }
        }

        } catch (erro) {

        }
    </script>
</body>
</html>